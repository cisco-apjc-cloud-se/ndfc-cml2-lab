lab:
  description: ''
  notes: ''
  title: Automation Lab Pod #{{pod_num}}
  version: 0.1.0
links:
  - id: l0
    n1: n4
    n2: n1
    i1: i2
    i2: i2
    label: DC1-SPINE1-Ethernet1/1<->DC1-LEAF1-Ethernet1/1
  - id: l1
    n1: n4
    n2: n2
    i1: i3
    i2: i2
    label: DC1-SPINE1-Ethernet1/2<->DC1-LEAF2-Ethernet1/1
  - id: l2
    n1: n4
    n2: n6
    i1: i4
    i2: i2
    label: DC1-SPINE1-Ethernet1/3<->DC1-ABGW1-Ethernet1/1
  - id: l3
    n1: n4
    n2: n7
    i1: i5
    i2: i2
    label: DC1-SPINE1-Ethernet1/4<->DC1-ABGW2-Ethernet1/1
  - id: l4
    n1: n5
    n2: n1
    i1: i2
    i2: i3
    label: DC1-SPINE2-Ethernet1/1<->DC1-LEAF1-Ethernet1/2
  - id: l5
    n1: n5
    n2: n2
    i1: i3
    i2: i3
    label: DC1-SPINE2-Ethernet1/2<->DC1-LEAF2-Ethernet1/2
  - id: l6
    n1: n5
    n2: n6
    i1: i4
    i2: i3
    label: DC1-SPINE2-Ethernet1/3<->DC1-ABGW1-Ethernet1/2
  - id: l7
    n1: n5
    n2: n7
    i1: i5
    i2: i3
    label: DC1-SPINE2-Ethernet1/4<->DC1-ABGW2-Ethernet1/2
  - id: l8
    n1: n6
    n2: n7
    i1: i4
    i2: i4
    label: DC1-ABGW1-Ethernet1/3<->DC1-ABGW2-Ethernet1/3
  - id: l9
    n1: n1
    n2: n2
    i1: i4
    i2: i4
    label: DC1-LEAF1-Ethernet1/3<->DC1-LEAF2-Ethernet1/3
  - id: l10
    n1: n1
    n2: n2
    i1: i5
    i2: i5
    label: DC1-LEAF1-Ethernet1/4<->DC1-LEAF2-Ethernet1/4
  - id: l11
    n1: n1
    n2: n3
    i1: i6
    i2: i1
    label: DC1-LEAF1-Ethernet1/5<->DC1-SVR1-ens3
  - id: l12
    n1: n2
    n2: n3
    i1: i6
    i2: i2
    label: DC1-LEAF2-Ethernet1/5<->DC1-SVR1-ens4
  - id: l13
    n1: n6
    n2: n8
    i1: i5
    i2: i5
    label: DC1-ABGW1-Ethernet1/4<->DC2-VBGW1-Ethernet1/4
  - id: l14
    n1: n7
    n2: n9
    i1: i5
    i2: i5
    label: DC1-ABGW2-Ethernet1/4<->DC2-VBGW2-Ethernet1/4
  - id: l15
    n1: n8
    n2: n9
    i1: i2
    i2: i2
    label: DC2-VBGW1-Ethernet1/1<->DC2-VBGW2-Ethernet1/1
  - id: l16
    n1: n8
    n2: n9
    i1: i3
    i2: i3
    label: DC2-VBGW1-Ethernet1/2<->DC2-VBGW2-Ethernet1/2
  - id: l17
    n1: n8
    n2: n10
    i1: i6
    i2: i1
    label: DC2-VBGW1-Ethernet1/5<->DC2-SVR2-ens3
  - id: l18
    n1: n9
    n2: n10
    i1: i6
    i2: i2
    label: DC2-VBGW2-Ethernet1/5<->DC2-SVR2-ens4
  - id: l19
    n1: n6
    n2: n11
    i1: i7
    i2: i2
    label: DC1-ABGW1-Ethernet1/6<->WAN-Ethernet1/1
  - id: l20
    n1: n7
    n2: n11
    i1: i7
    i2: i3
    label: DC1-ABGW2-Ethernet1/6<->WAN-Ethernet1/2
  - id: l21
    n1: n8
    n2: n11
    i1: i7
    i2: i4
    label: DC2-VBGW1-Ethernet1/6<->WAN-Ethernet1/3
  - id: l22
    n1: n9
    n2: n11
    i1: i7
    i2: i5
    label: DC2-VBGW2-Ethernet1/6<->WAN-Ethernet1/4
  - id: l23
    n1: n4
    n2: n0
    i1: i1
    i2: i3
    label: DC1-SPINE1-mgmt0<->OOB-MGMT-Ethernet1/2
  - id: l24
    n1: n5
    n2: n0
    i1: i1
    i2: i4
    label: DC1-SPINE2-mgmt0<->OOB-MGMT-Ethernet1/3
  - id: l25
    n1: n1
    n2: n0
    i1: i1
    i2: i5
    label: DC1-LEAF1-mgmt0<->OOB-MGMT-Ethernet1/4
  - id: l26
    n1: n6
    n2: n0
    i1: i1
    i2: i6
    label: DC1-ABGW1-mgmt0<->OOB-MGMT-Ethernet1/5
  - id: l27
    n1: n7
    n2: n0
    i1: i1
    i2: i7
    label: DC1-ABGW2-mgmt0<->OOB-MGMT-Ethernet1/6
  - id: l28
    n1: n12
    n2: n0
    i1: i0
    i2: i2
    label: ext-conn-0-port<->OOB-MGMT-Ethernet1/1
  - id: l29
    n1: n0
    n2: n2
    i1: i8
    i2: i1
    label: OOB-MGMT-Ethernet1/7<->DC1-LEAF2-mgmt0
  - id: l30
    n1: n3
    n2: n0
    i1: i0
    i2: i9
    label: DC1-SVR1-ens2<->OOB-MGMT-Ethernet1/8
  - id: l31
    n1: n13
    n2: n1
    i1: i1
    i2: i7
    label: DC1-SVR2-ens3<->DC1-LEAF1-Ethernet1/6
  - id: l32
    n1: n13
    n2: n2
    i1: i2
    i2: i7
    label: DC1-SVR2-ens4<->DC1-LEAF2-Ethernet1/6
  - id: l33
    n1: n13
    n2: n0
    i1: i0
    i2: i10
    label: DC1-SVR2-ens2<->OOB-MGMT-Ethernet1/9
  - id: l34
    n1: n0
    n2: n11
    i1: i11
    i2: i1
    label: OOB-MGMT-Ethernet1/10<->POD1-WAN-mgmt0
  - id: l35
    n1: n0
    n2: n8
    i1: i12
    i2: i1
    label: OOB-MGMT-Ethernet1/11<->DC2-VBGW1-mgmt0
  - id: l36
    n1: n0
    n2: n9
    i1: i13
    i2: i1
    label: OOB-MGMT-Ethernet1/12<->DC2-VBGW2-mgmt0
  - id: l37
    n1: n10
    n2: n0
    i1: i0
    i2: i14
    label: DC2-SVR1-ens2<->OOB-MGMT-Ethernet1/13
nodes:
  - boot_disk_size: 0
    configuration: |2-

      !Command: show running-config
      !Running configuration last done at: Fri Sep  9 05:06:39 2022
      !Time: Fri Sep  9 05:06:40 2022

      version 10.2(3) Bios:version
      hostname OOB-MGMT
      vdc OOB-MGMT id 1
        limit-resource vlan minimum 16 maximum 4094
        limit-resource vrf minimum 2 maximum 4096
        limit-resource port-channel minimum 0 maximum 511
        limit-resource m4route-mem minimum 58 maximum 58
        limit-resource m6route-mem minimum 8 maximum 8

      feature interface-vlan
      feature dhcp
      feature sla sender

      no password strength-check
      username admin password 5 $5$EGKEOA$jNzlc8Cr0wzdsXRZiVo.D1qZJh1H8i321amB7mK5yx9  role network-admin
      username cisco password 5 $5$HLFAPK$K.j7J6EtCu6rxZ7yVzZuAUHlX59VbRwvPzJ9mc/GnE4  role network-admin
      username cisco passphrase  lifetime 99999 warntime 14 gracetime 3
      ip domain-lookup
      snmp-server user admin network-admin auth md5 52235DAA42B32E7BEE7FF8380FA02DDE7465 priv aes-128 533445F9E01DDB966FEE5FC9932EFB05AAAB localizedV2key
      snmp-server user cisco network-admin auth md5 530194147B927452F56F8067A09E06473C4F priv aes-128 331DB73EF80CA08A6FDB51B16F16CEC3B28A localizedV2key
      rmon event 1 log trap public description FATAL(1) owner PMON@FATAL
      rmon event 2 log trap public description CRITICAL(2) owner PMON@CRITICAL
      rmon event 3 log trap public description ERROR(3) owner PMON@ERROR
      rmon event 4 log trap public description WARNING(4) owner PMON@WARNING
      rmon event 5 log trap public description INFORMATION(5) owner PMON@INFO

      ip route 0.0.0.0/0 {{oob_mgmt_gw_ip}}
      vlan 1,101-102

      service dhcp
      ip dhcp relay
      ipv6 dhcp relay
      vrf context management


      interface Vlan1

      interface Vlan101
        no shutdown
        ip address 100.64.20{{pod_num}}.1/26
        ip dhcp relay address {{ndfc_n1_data_ip}}
        ip dhcp relay address {{ndfc_n2_data_ip}}
        ip dhcp relay address {{ndfc_n3_data_ip}}

      interface Vlan102
        no shutdown
        ip address 100.64.20{{pod_num}}.65/26
        ip dhcp relay address {{ndfc_n1_data_ip}}
        ip dhcp relay address {{ndfc_n2_data_ip}}
        ip dhcp relay address {{ndfc_n3_data_ip}}

      interface Ethernet1/1
        no switchport
        ip address {{oob_mgmt_ip_mask}}
        ip arp {{oob_mgmt_gw_ip}} {{oob_mgmt_gw_mac}}
        no shutdown

      interface Ethernet1/2
        description ** DC1-SPINE1 **
        switchport access vlan 101

      interface Ethernet1/3
        description ** DC1-SPINE2 **
        switchport access vlan 101

      interface Ethernet1/4
        description ** DC1-LEAF1 **
        switchport access vlan 101

      interface Ethernet1/5
        description ** DC1-LEAF2 **
        switchport access vlan 101

      interface Ethernet1/6
        description ** DC1-ABGW1 **
        switchport access vlan 101

      interface Ethernet1/7
        description ** DC1-ABGW2 **
        switchport access vlan 101

      interface Ethernet1/8
        description ** DC1-SVR1 **
        switchport access vlan 101

      interface Ethernet1/9
        description ** DC1-SVR2 **
        switchport access vlan 101

      interface Ethernet1/10
        description ** WAN **
        switchport access vlan 101

      interface Ethernet1/11
        description ** DC2-VBGW1 **
        switchport access vlan 102

      interface Ethernet1/12
        description ** DC2-VBGW2 **
        switchport access vlan 102

      interface Ethernet1/13
        description ** DC2-SVR1 **
        switchport access vlan 102

      interface Ethernet1/14

      interface Ethernet1/15

      interface Ethernet1/16

      interface Ethernet1/17

      interface Ethernet1/18

      interface Ethernet1/19

      interface Ethernet1/20

      interface Ethernet1/21

      interface Ethernet1/22

      interface Ethernet1/23

      interface Ethernet1/24

      interface Ethernet1/25

      interface Ethernet1/26

      interface Ethernet1/27

      interface Ethernet1/28

      interface Ethernet1/29

      interface Ethernet1/30

      interface Ethernet1/31

      interface Ethernet1/32

      interface Ethernet1/33

      interface Ethernet1/34

      interface Ethernet1/35

      interface Ethernet1/36

      interface Ethernet1/37

      interface Ethernet1/38

      interface Ethernet1/39

      interface Ethernet1/40

      interface Ethernet1/41

      interface Ethernet1/42

      interface Ethernet1/43

      interface Ethernet1/44

      interface Ethernet1/45

      interface Ethernet1/46

      interface Ethernet1/47

      interface Ethernet1/48

      interface Ethernet1/49

      interface Ethernet1/50

      interface Ethernet1/51

      interface Ethernet1/52

      interface Ethernet1/53

      interface Ethernet1/54

      interface Ethernet1/55

      interface Ethernet1/56

      interface Ethernet1/57

      interface Ethernet1/58

      interface Ethernet1/59

      interface Ethernet1/60

      interface Ethernet1/61

      interface Ethernet1/62

      interface Ethernet1/63

      interface Ethernet1/64

      interface mgmt0
        vrf member management
      icam monitor scale

      line console
        exec-timeout 0
      line vty
        exec-timeout 0

      ip sla 10
        icmp-echo {{oob_mgmt_gw_ip}}
      ip sla schedule 10 life forever start-time now
      no logging console
    cpu_limit: 100
    cpus: 0
    data_volume: 0
    hide_links: false
    id: n0
    image_definition: N9K-10-2-3
    label: OOB-MGMT
    node_definition: nxosv9000
    ram: 0
    tags: []
    x: 1133
    y: 420
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: mgmt0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet1/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet1/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet1/3
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/4
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/5
        slot: 5
        type: physical
      - id: i7
        label: Ethernet1/6
        slot: 6
        type: physical
      - id: i8
        label: Ethernet1/7
        slot: 7
        type: physical
      - id: i9
        label: Ethernet1/8
        slot: 8
        type: physical
      - id: i10
        label: Ethernet1/9
        slot: 9
        type: physical
      - id: i11
        label: Ethernet1/10
        slot: 10
        type: physical
      - id: i12
        label: Ethernet1/11
        slot: 11
        type: physical
      - id: i13
        label: Ethernet1/12
        slot: 12
        type: physical
      - id: i14
        label: Ethernet1/13
        slot: 13
        type: physical
  - boot_disk_size: 0
    configuration: ''
    cpu_limit: 100
    cpus: 0
    data_volume: 0
    hide_links: false
    id: n1
    image_definition: 10-2-3F
    label: DC1-LEAF1
    node_definition: nxosv9000poap
    ram: 0
    tags: []
    x: 799
    y: 525
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: mgmt0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet1/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet1/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet1/3
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/4
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/5
        slot: 5
        type: physical
      - id: i7
        label: Ethernet1/6
        slot: 6
        type: physical
      - id: i8
        label: Ethernet1/7
        slot: 7
        type: physical
      - id: i9
        label: Ethernet1/8
        slot: 8
        type: physical
      - id: i10
        label: Ethernet1/9
        slot: 9
        type: physical
      - id: i11
        label: Ethernet1/10
        slot: 10
        type: physical
      - id: i12
        label: Ethernet1/11
        slot: 11
        type: physical
  - boot_disk_size: 0
    configuration: ''
    cpu_limit: 100
    cpus: 0
    data_volume: 0
    hide_links: false
    id: n2
    image_definition: 10-2-3F
    label: DC1-LEAF2
    node_definition: nxosv9000poap
    ram: 0
    tags: []
    x: 985
    y: 518
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: mgmt0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet1/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet1/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet1/3
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/4
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/5
        slot: 5
        type: physical
      - id: i7
        label: Ethernet1/6
        slot: 6
        type: physical
      - id: i8
        label: Ethernet1/7
        slot: 7
        type: physical
      - id: i9
        label: Ethernet1/8
        slot: 8
        type: physical
      - id: i10
        label: Ethernet1/9
        slot: 9
        type: physical
      - id: i11
        label: Ethernet1/10
        slot: 10
        type: physical
      - id: i12
        label: Ethernet1/11
        slot: 11
        type: physical
  - boot_disk_size: 0
    configuration: |-
      #cloud-config
      hostname: DC1-SVR1
      manage_etc_hosts: True
      system_info:
        default_user:
          name: cisco
      password: cisco
      chpasswd: { expire: False }
      ssh_pwauth: True
      ssh_authorized_keys:
         - your-ssh-pubkey-line-goes-here
      write_files:
        - path: /etc/netplan/50-cloud-init.yaml
          append: false
          content: |
            network:
              version: 2
              ethernets:
                ens2:
                  dhcp4: false
                  addresses:
                    - 100.64.20{{pod_num}}.8/26
                  gateway4: 100.64.20{{pod_num}}.1
                  nameservers:
                    addresses:
                      - 8.8.8.8
                ens3:
                  dhcp4: false
                ens4:
                  dhcp4: false
              bonds:
                bond0:
                  interfaces:
                    - ens3
                    - ens4
                  parameters:
                    mode: 802.3ad
                    lacp-rate: fast
                    mii-monitor-interval: 100
              vlans:
                vlan.100:
                  id: 100
                  link: bond0
                  addresses:
                    - 192.168.1.2/24
                  routes:
                    - to: 192.168.255.255/32
                      via: 192.168.1.1
                      metric: 3
      runcmd:
       - ethtool -s ens3 autoneg off speed 1000 duplex full
       - ethtool -s ens4 autoneg off speed 1000 duplex full
       - netplan apply
    cpu_limit: 100
    cpus: 0
    data_volume: 0
    hide_links: false
    id: n3
    label: DC1-SVR1
    node_definition: ubuntu
    ram: 0
    tags: []
    x: 849
    y: 648
    interfaces:
      - id: i0
        label: ens2
        slot: 0
        type: physical
      - id: i1
        label: ens3
        slot: 1
        type: physical
      - id: i2
        label: ens4
        slot: 2
        type: physical
  - boot_disk_size: 0
    configuration: ''
    cpu_limit: 100
    cpus: 0
    data_volume: 0
    hide_links: false
    id: n4
    label: DC1-SPINE1
    node_definition: nxosv9000poap
    ram: 0
    tags: []
    x: 798
    y: 364
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: mgmt0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet1/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet1/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet1/3
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/4
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/5
        slot: 5
        type: physical
      - id: i7
        label: Ethernet1/6
        slot: 6
        type: physical
      - id: i8
        label: Ethernet1/7
        slot: 7
        type: physical
      - id: i9
        label: Ethernet1/8
        slot: 8
        type: physical
      - id: i10
        label: Ethernet1/9
        slot: 9
        type: physical
      - id: i11
        label: Ethernet1/10
        slot: 10
        type: physical
      - id: i12
        label: Ethernet1/11
        slot: 11
        type: physical
  - boot_disk_size: 0
    configuration: ''
    cpu_limit: 100
    cpus: 0
    data_volume: 0
    hide_links: false
    id: n5
    label: DC1-SPINE2
    node_definition: nxosv9000poap
    ram: 0
    tags: []
    x: 984
    y: 369
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: mgmt0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet1/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet1/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet1/3
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/4
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/5
        slot: 5
        type: physical
      - id: i7
        label: Ethernet1/6
        slot: 6
        type: physical
      - id: i8
        label: Ethernet1/7
        slot: 7
        type: physical
      - id: i9
        label: Ethernet1/8
        slot: 8
        type: physical
      - id: i10
        label: Ethernet1/9
        slot: 9
        type: physical
      - id: i11
        label: Ethernet1/10
        slot: 10
        type: physical
      - id: i12
        label: Ethernet1/11
        slot: 11
        type: physical
  - boot_disk_size: 0
    configuration: ''
    cpu_limit: 100
    cpus: 0
    data_volume: 0
    hide_links: false
    id: n6
    image_definition: 10-2-3F
    label: DC1-ABGW1
    node_definition: nxosv9000poap
    ram: 0
    tags: []
    x: 797
    y: 151
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: mgmt0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet1/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet1/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet1/3
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/4
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/5
        slot: 5
        type: physical
      - id: i7
        label: Ethernet1/6
        slot: 6
        type: physical
      - id: i8
        label: Ethernet1/7
        slot: 7
        type: physical
      - id: i9
        label: Ethernet1/8
        slot: 8
        type: physical
      - id: i10
        label: Ethernet1/9
        slot: 9
        type: physical
      - id: i11
        label: Ethernet1/10
        slot: 10
        type: physical
      - id: i12
        label: Ethernet1/11
        slot: 11
        type: physical
  - boot_disk_size: 0
    configuration: ''
    cpu_limit: 100
    cpus: 0
    data_volume: 0
    hide_links: false
    id: n7
    image_definition: 10-2-3F
    label: DC1-ABGW2
    node_definition: nxosv9000poap
    ram: 0
    tags: []
    x: 985
    y: 235
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: mgmt0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet1/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet1/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet1/3
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/4
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/5
        slot: 5
        type: physical
      - id: i7
        label: Ethernet1/6
        slot: 6
        type: physical
      - id: i8
        label: Ethernet1/7
        slot: 7
        type: physical
      - id: i9
        label: Ethernet1/8
        slot: 8
        type: physical
      - id: i10
        label: Ethernet1/9
        slot: 9
        type: physical
      - id: i11
        label: Ethernet1/10
        slot: 10
        type: physical
      - id: i12
        label: Ethernet1/11
        slot: 11
        type: physical
  - boot_disk_size: 0
    configuration: ''
    cpu_limit: 100
    cpus: 0
    data_volume: 0
    hide_links: false
    id: n8
    image_definition: 10-2-3F
    label: DC2-VBGW1
    node_definition: nxosv9000poap
    ram: 0
    tags: []
    x: 1315
    y: 157
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: mgmt0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet1/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet1/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet1/3
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/4
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/5
        slot: 5
        type: physical
      - id: i7
        label: Ethernet1/6
        slot: 6
        type: physical
      - id: i8
        label: Ethernet1/7
        slot: 7
        type: physical
      - id: i9
        label: Ethernet1/8
        slot: 8
        type: physical
      - id: i10
        label: Ethernet1/9
        slot: 9
        type: physical
      - id: i11
        label: Ethernet1/10
        slot: 10
        type: physical
      - id: i12
        label: Ethernet1/11
        slot: 11
        type: physical
  - boot_disk_size: 0
    configuration: ''
    cpu_limit: 100
    cpus: 0
    data_volume: 0
    hide_links: false
    id: n9
    image_definition: 10-2-3F
    label: DC2-VBGW2
    node_definition: nxosv9000poap
    ram: 0
    tags: []
    x: 1506
    y: 238
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: mgmt0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet1/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet1/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet1/3
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/4
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/5
        slot: 5
        type: physical
      - id: i7
        label: Ethernet1/6
        slot: 6
        type: physical
      - id: i8
        label: Ethernet1/7
        slot: 7
        type: physical
      - id: i9
        label: Ethernet1/8
        slot: 8
        type: physical
      - id: i10
        label: Ethernet1/9
        slot: 9
        type: physical
      - id: i11
        label: Ethernet1/10
        slot: 10
        type: physical
      - id: i12
        label: Ethernet1/11
        slot: 11
        type: physical
  - boot_disk_size: 0
    configuration: |-
      #cloud-config
      hostname: DC2-SVR1
      manage_etc_hosts: True
      system_info:
        default_user:
          name: cisco
      password: cisco
      chpasswd: { expire: False }
      ssh_pwauth: True
      ssh_authorized_keys:
         - your-ssh-pubkey-line-goes-here
      write_files:
        - path: /etc/netplan/50-cloud-init.yaml
          append: false
          content: |
            network:
              version: 2
              ethernets:
                ens2:
                  dhcp4: false
                  addresses:
                    - 100.64.20{{pod_num}}.68/26
                  gateway4: 100.64.20{{pod_num}}.65
                  nameservers:
                    addresses:
                      - 8.8.8.8
                ens3:
                  dhcp4: false
                ens4:
                  dhcp4: false
              bonds:
                bond0:
                  interfaces:
                    - ens3
                    - ens4
                  parameters:
                    mode: 802.3ad
                    lacp-rate: fast
                    mii-monitor-interval: 100
              vlans:
                vlan.100:
                  id: 100
                  link: bond0
                  addresses:
                    - 192.168.1.3/24
                  routes:
                    - to: 192.168.255.255/32
                      via: 192.168.1.1
                      metric: 3
      runcmd:
       - ethtool -s ens3 autoneg off speed 1000 duplex full
       - ethtool -s ens4 autoneg off speed 1000 duplex full
       - netplan apply
    cpu_limit: 100
    cpus: 0
    data_volume: 0
    hide_links: false
    id: n10
    label: DC2-SVR1
    node_definition: ubuntu
    ram: 0
    tags: []
    x: 1388
    y: 644
    interfaces:
      - id: i0
        label: ens2
        slot: 0
        type: physical
      - id: i1
        label: ens3
        slot: 1
        type: physical
      - id: i2
        label: ens4
        slot: 2
        type: physical
  - boot_disk_size: 0
    configuration: |2-

      !Command: show running-config
      !Running configuration last done at: Fri Sep  9 05:06:50 2022
      !Time: Fri Sep  9 05:06:51 2022

      version 10.2(3) Bios:version
      hostname POD{{pod_num}}-WAN
      vdc POD{{pod_num}}-WAN id 1
        limit-resource vlan minimum 16 maximum 4094
        limit-resource vrf minimum 2 maximum 4096
        limit-resource port-channel minimum 0 maximum 511
        limit-resource m4route-mem minimum 58 maximum 58
        limit-resource m6route-mem minimum 8 maximum 8

      feature bgp

      no password strength-check
      username admin password 5 $5$PJBDFE$Qhpygn/Ml8Qc9BsmdoylEapia88e9IXOVVf4wcYxSM3  role network-admin
      username cisco password 5 $5$AKAIJN$oDjE8pdMcNX3En9i31pZbx0Ir6CIPfwvcsZ234s34A1  role network-admin
      username cisco passphrase  lifetime 99999 warntime 14 gracetime 3
      ip domain-lookup
      snmp-server user admin network-admin auth md5 01470FFF8535A97E6105169C71CB118544ED priv aes-128 204B7EC4F809D2324A5675F93CD04ED809EA localizedV2key
      snmp-server user cisco network-admin auth md5 331D0EB3D562EB6B414555B37D8E5D8249A7 priv aes-128 006016F2CF6C81600A6702FF3A8B01955CD7 localizedV2key
      rmon event 1 log trap public description FATAL(1) owner PMON@FATAL
      rmon event 2 log trap public description CRITICAL(2) owner PMON@CRITICAL
      rmon event 3 log trap public description ERROR(3) owner PMON@ERROR
      rmon event 4 log trap public description WARNING(4) owner PMON@WARNING
      rmon event 5 log trap public description INFORMATION(5) owner PMON@INFO
      no system default switchport

      vlan 1

      vrf context management
        ip route 0.0.0.0/0 100.64.20{{pod_num}}.1

      interface Ethernet1/1
        description ** DC1-ABGW1 **
        no shutdown

      interface Ethernet1/1.2
        encapsulation dot1q 2
        ip address 192.168.254.254/30
        no shutdown

      interface Ethernet1/2
        description ** DC1-ABGW2 **
        no shutdown

      interface Ethernet1/2.2
        encapsulation dot1q 2
        ip address 192.168.254.250/30
        no shutdown

      interface Ethernet1/3
        description ** DC2-VBGW1 **
        no shutdown

      interface Ethernet1/3.2
        encapsulation dot1q 2
        ip address 192.168.254.246/30
        no shutdown

      interface Ethernet1/4
        description ** DC2-VBGW2 **
        no shutdown

      interface Ethernet1/4.2
        encapsulation dot1q 2
        ip address 192.168.254.242/30
        no shutdown

      interface Ethernet1/5

      interface Ethernet1/6

      interface Ethernet1/7

      interface Ethernet1/8

      interface Ethernet1/9

      interface Ethernet1/10

      interface Ethernet1/11

      interface Ethernet1/12

      interface Ethernet1/13

      interface Ethernet1/14

      interface Ethernet1/15

      interface Ethernet1/16

      interface Ethernet1/17

      interface Ethernet1/18

      interface Ethernet1/19

      interface Ethernet1/20

      interface Ethernet1/21

      interface Ethernet1/22

      interface Ethernet1/23

      interface Ethernet1/24

      interface Ethernet1/25

      interface Ethernet1/26

      interface Ethernet1/27

      interface Ethernet1/28

      interface Ethernet1/29

      interface Ethernet1/30

      interface Ethernet1/31

      interface Ethernet1/32

      interface Ethernet1/33

      interface Ethernet1/34

      interface Ethernet1/35

      interface Ethernet1/36

      interface Ethernet1/37

      interface Ethernet1/38

      interface Ethernet1/39

      interface Ethernet1/40

      interface Ethernet1/41

      interface Ethernet1/42

      interface Ethernet1/43

      interface Ethernet1/44

      interface Ethernet1/45

      interface Ethernet1/46

      interface Ethernet1/47

      interface Ethernet1/48

      interface Ethernet1/49

      interface Ethernet1/50

      interface Ethernet1/51

      interface Ethernet1/52

      interface Ethernet1/53

      interface Ethernet1/54

      interface Ethernet1/55

      interface Ethernet1/56

      interface Ethernet1/57

      interface Ethernet1/58

      interface Ethernet1/59

      interface Ethernet1/60

      interface Ethernet1/61

      interface Ethernet1/62

      interface Ethernet1/63

      interface Ethernet1/64

      interface mgmt0
        vrf member management
        ip address 100.64.20{{pod_num}}.10/26

      interface loopback0
        ip address 192.168.255.255/32
      icam monitor scale

      line console
        exec-timeout 0
      line vty
        exec-timeout 0
      router bgp 650{{pod_num}}0
        address-family ipv4 unicast
          network 192.168.255.255/32
        neighbor 192.168.254.241
          remote-as 650{{pod_num}}2
          address-family ipv4 unicast
            soft-reconfiguration inbound
        neighbor 192.168.254.245
          remote-as 650{{pod_num}}2
          address-family ipv4 unicast
            soft-reconfiguration inbound
        neighbor 192.168.254.249
          remote-as 650{{pod_num}}1
          address-family ipv4 unicast
            soft-reconfiguration inbound
        neighbor 192.168.254.253
          remote-as 650{{pod_num}}1
          address-family ipv4 unicast
            soft-reconfiguration inbound

      no logging console
    cpu_limit: 100
    cpus: 0
    data_volume: 0
    hide_links: false
    id: n11
    image_definition: N9K-10-2-3
    label: POD{{pod_num}}-WAN
    node_definition: nxosv9000
    ram: 0
    tags: []
    x: 1137
    y: 12
    interfaces:
      - id: i0
        label: Loopback0
        type: loopback
      - id: i1
        label: mgmt0
        slot: 0
        type: physical
      - id: i2
        label: Ethernet1/1
        slot: 1
        type: physical
      - id: i3
        label: Ethernet1/2
        slot: 2
        type: physical
      - id: i4
        label: Ethernet1/3
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/4
        slot: 4
        type: physical
  - boot_disk_size: 0
    configuration: bridge0
    cpu_limit: 100
    cpus: 0
    data_volume: 0
    hide_links: false
    id: n12
    label: MGMT
    node_definition: external_connector
    ram: 0
    tags: []
    x: 1132
    y: 676
    interfaces:
      - id: i0
        label: port
        slot: 0
        type: physical
  - boot_disk_size: 64
    configuration: |-
      #cloud-config
      hostname: DC1-SVR2
      manage_etc_hosts: True
      system_info:
        default_user:
          name: cisco
      password: cisco
      chpasswd: { expire: False }
      ssh_pwauth: True
      ssh_authorized_keys:
         - your-ssh-pubkey-line-goes-here
      write_files:
        - path: /etc/netplan/50-cloud-init.yaml
          append: false
          content: |
            network:
              version: 2
              ethernets:
                ens2:
                  dhcp4: false
                  addresses:
                    - 100.64.20{{pod_num}}.9/26
                  gateway4: 100.64.20{{pod_num}}.1
                  nameservers:
                    addresses:
                      - 8.8.8.8
                ens3:
                  dhcp4: false
                ens4:
                  dhcp4: false
              bonds:
                bond0:
                  interfaces:
                    - ens3
                    - ens4
                  parameters:
                    mode: 802.3ad
                    lacp-rate: fast
                    mii-monitor-interval: 100
              vlans:
                vlan.100:
                  id: 100
                  link: bond0
                  addresses:
                    - 192.168.2.2/24
                  routes:
                    - to: 192.168.255.255/32
                      via: 192.168.2.1
                      metric: 3
      runcmd:
       - ethtool -s ens3 autoneg off speed 1000 duplex full
       - ethtool -s ens4 autoneg off speed 1000 duplex full
       - netplan apply
    cpu_limit: 100
    cpus: 1
    data_volume: 0
    hide_links: false
    id: n13
    label: DC1-SVR2
    node_definition: ubuntu
    ram: 2048
    tags: []
    x: 944
    y: 646
    interfaces:
      - id: i0
        label: ens2
        slot: 0
        type: physical
      - id: i1
        label: ens3
        slot: 1
        type: physical
      - id: i2
        label: ens4
        slot: 2
        type: physical
